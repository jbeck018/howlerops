# ===================================================================
# SQL Studio Backend - Production Configuration Template
# ===================================================================
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to version control!
# ===================================================================

# Environment
ENVIRONMENT=production

# Server Configuration
SERVER_HTTP_PORT=8080
SERVER_GRPC_PORT=9090
SERVER_METRICS_PORT=9100
SERVER_HOST=0.0.0.0

# Database - Remote Turso Database
# Get your database URL from: turso db show <db-name>
TURSO_URL=libsql://your-database-your-org.turso.io

# Generate auth token with: turso db tokens create <db-name>
TURSO_AUTH_TOKEN=your-turso-auth-token-here

# Production connection pool settings
TURSO_MAX_CONNECTIONS=25

# Authentication - Production Settings
# Generate strong secret with: openssl rand -base64 64
JWT_SECRET=your-production-jwt-secret-minimum-64-characters-required-here

# Production token expiration settings
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=168h

# Higher bcrypt cost for production (12-14 recommended)
BCRYPT_COST=12

# Session configuration
SESSION_TIMEOUT=24h
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=30m

# Email - Resend Provider
# Get API key from: https://resend.com/api-keys
EMAIL_PROVIDER=resend
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@yourdomain.com
RESEND_FROM_NAME=SQL Studio
EMAIL_BASE_URL=https://yourdomain.com

# Logging - Production Settings
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE=/var/log/sql-studio/app.log

# Sync Service
SYNC_ENABLED=true
SYNC_MAX_UPLOAD_SIZE=10485760
SYNC_CONFLICT_STRATEGY=last_write_wins
SYNC_RETENTION_DAYS=90
SYNC_MAX_HISTORY_ITEMS=1000
SYNC_ENABLE_SANITIZATION=true
SYNC_RATE_LIMIT_RPM=10

# CORS - Restrict to your domain
CORS_ENABLED=true
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Rate Limiting - Production Settings
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100
RATE_LIMIT_BURST=200

# Redis - Optional (recommended for production)
REDIS_ENABLED=false
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DATABASE=0

# Metrics
METRICS_ENABLED=true

# TLS - Enable for production
TLS_ENABLED=true
# TLS_CERT_FILE=/path/to/cert.pem
# TLS_KEY_FILE=/path/to/key.pem
