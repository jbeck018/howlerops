# HowlerOps Environment Configuration Template
# Copy this file to .env and update values for your environment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=8500
APP_NAME=HowlerOps
APP_VERSION=1.0.0

# Frontend configuration
FRONTEND_PORT=8580
CORS_ORIGIN=http://localhost:8580

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary PostgreSQL Database
POSTGRES_HOST=postgres
POSTGRES_PORT=15432
POSTGRES_DB=sqlstudio
POSTGRES_USER=sqlstudio
POSTGRES_PASSWORD=change-this-strong-password

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=16379
REDIS_PASSWORD=redis-password
REDIS_DB=0
REDIS_CLUSTER_ENABLED=false

# Redis session configuration
SESSION_SECRET=change-this-session-secret
SESSION_MAX_AGE=86400000
SESSION_SECURE=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration
JWT_SECRET=change-this-jwt-secret-to-something-very-secure
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Password hashing
BCRYPT_SALT_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_CONSOLE_ENABLED=true
LOG_MAX_FILES=5
LOG_MAX_SIZE=20971520

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=19090
PROMETHEUS_METRICS_PATH=/metrics

# Health checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health

# Performance monitoring
APM_ENABLED=false
APM_SERVICE_NAME=sql-studio
APM_ENVIRONMENT=production

# Error tracking (Sentry)
SENTRY_ENABLED=false
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# PM2 clustering
PM2_INSTANCES=max
PM2_MAX_MEMORY_RESTART=512M

# Compression
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6

# Static file serving
STATIC_MAX_AGE=31536000
STATIC_GZIP_ENABLED=true

# =============================================================================
# FEATURES CONFIGURATION
# =============================================================================

# File upload configuration
UPLOAD_MAX_SIZE=104857600
UPLOAD_ALLOWED_TYPES=sql,csv,json,txt
UPLOAD_DESTINATION=./uploads

# Query execution
QUERY_TIMEOUT=30000
QUERY_MAX_ROWS=10000
QUERY_CACHE_ENABLED=true
QUERY_CACHE_TTL=300

# WebSocket configuration
WS_ENABLED=true
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development specific settings (only used when NODE_ENV=development)
DEV_HOT_RELOAD=true
DEV_CORS_ORIGIN=http://localhost:8580
DEV_LOG_SQL=true
DEV_MOCK_AUTH=false

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email configuration (for notifications)
EMAIL_ENABLED=false
EMAIL_SERVICE=smtp
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_SECURE=true
EMAIL_USER=your-email@example.com
EMAIL_PASSWORD=your-email-password

# Cloud storage (if using cloud deployment)
CLOUD_STORAGE_ENABLED=false
CLOUD_STORAGE_PROVIDER=aws
CLOUD_STORAGE_BUCKET=sql-studio-uploads
CLOUD_STORAGE_REGION=us-east-1

# =============================================================================
# GRAFANA CONFIGURATION
# =============================================================================
GRAFANA_PASSWORD=change-this-grafana-password
GRAFANA_ADMIN_USER=admin

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=sql-studio-backups
BACKUP_S3_REGION=us-east-1